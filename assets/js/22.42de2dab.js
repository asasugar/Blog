(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{266:function(a,s,t){"use strict";t.r(s);var e=t(17),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"android-app-方法超出64k解决方案，即如何启动-多-dex-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-app-方法超出64k解决方案，即如何启动-多-dex-文件"}},[a._v("#")]),a._v(" Android App 方法超出64K解决方案，即如何启动“多 dex 文件”")]),a._v(" "),t("h2",{attrs:{id:"当您的应用及其引用的库超过-65-536-种方法时，您会遇到一个编译错误，指明您的应用已达到-android-编译架构规定的引用限制："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#当您的应用及其引用的库超过-65-536-种方法时，您会遇到一个编译错误，指明您的应用已达到-android-编译架构规定的引用限制："}},[a._v("#")]),a._v(" 当您的应用及其引用的库超过 65,536 种方法时，您会遇到一个编译错误，指明您的应用已达到 Android 编译架构规定的引用限制：")]),a._v(" "),t("h3",{attrs:{id:"一、报错如下："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、报错如下："}},[a._v("#")]),a._v(" 一、报错如下：")]),a._v(" "),t("div",{staticClass:"language-bish line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("D8: Cannot fit requested classes in a single dex file (# methods: xxxxx > 65536)\n\ntrouble writing output:\nToo many field references: 131000; max is 65536.\nYou may try using --multi-dex option.\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[a._v("较低版本的编译系统会报告一个不同的错误，但指示的是同一问题：")]),a._v(" "),t("div",{staticClass:"language-bish line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Conversion to Dalvik format failed:\nUnable to execute dex: method ID not in [0, 0xffff]: 65536\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h3",{attrs:{id:"二、解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、解决方法"}},[a._v("#")]),a._v(" 二、解决方法")]),a._v(" "),t("h4",{attrs:{id:"_1、在-android-app-build-gradle-更新-dependency"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、在-android-app-build-gradle-更新-dependency"}},[a._v("#")]),a._v(" 1、在 "),t("code",[a._v("android/app/build.gradle")]),a._v(", 更新 "),t("code",[a._v("dependency")]),a._v(" :")]),a._v(" "),t("div",{staticClass:"language-gradle line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("defaultConfig {\n    // ... your `applicationId`, etc.\n    multiDexEnabled true\n}\n\n// ...\ndependencies {\n    // ... your other dependencies\n\n    // Multidex\n    implementation 'com.android.support:multidex:1.0.3'\n}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("h4",{attrs:{id:"_2、在-mainapplication-java"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、在-mainapplication-java"}},[a._v("#")]),a._v(" 2、在 "),t("code",[a._v("MainApplication.java")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("替换")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("support"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("multidex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MultiDexApplication")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("如果 RN 0.60+ 或者支持 AndroidX :")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("androidx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("multidex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MultiDexApplication")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"_3、在-mainapplication-java"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、在-mainapplication-java"}},[a._v("#")]),a._v(" 3、在 "),t("code",[a._v("MainApplication.java")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MainApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Application")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ReactApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("替换")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MainApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MultiDexApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ReactApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);